{
  "openapi": "3.0.4",
  "info": {
    "title": "Queue OpenAPI for fal-ai/clarity-upscaler",
    "version": "1.0.0",
    "description": "The OpenAPI schema for the fal-ai/clarity-upscaler queue.",
    "x-fal-metadata": {
      "endpointId": "fal-ai/clarity-upscaler",
      "category": "image-to-image",
      "thumbnailUrl": "https://storage.googleapis.com/falserverless/gallery/controlnet-tile-upscaler.webp",
      "playgroundUrl": "https://fal.ai/models/fal-ai/clarity-upscaler",
      "documentationUrl": "https://fal.ai/models/fal-ai/clarity-upscaler/api"
    }
  },
  "components": {
    "securitySchemes": {
      "apiKeyAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "Authorization",
        "description": "Fal Key"
      }
    },
    "schemas": {
      "QueueStatus": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "IN_QUEUE",
              "IN_PROGRESS",
              "COMPLETED"
            ]
          },
          "request_id": {
            "type": "string",
            "description": "The request id."
          },
          "response_url": {
            "type": "string",
            "description": "The response url."
          },
          "status_url": {
            "type": "string",
            "description": "The status url."
          },
          "cancel_url": {
            "type": "string",
            "description": "The cancel url."
          },
          "logs": {
            "type": "object",
            "description": "The logs.",
            "additionalProperties": true
          },
          "metrics": {
            "type": "object",
            "description": "The metrics.",
            "additionalProperties": true
          },
          "queue_position": {
            "type": "integer",
            "description": "The queue position."
          }
        },
        "required": [
          "status",
          "request_id"
        ]
      },
      "ClarityUpscalerInput": {
        "title": "Input",
        "type": "object",
        "properties": {
          "prompt": {
            "examples": [
              "masterpiece, best quality, highres"
            ],
            "title": "Prompt",
            "type": "string",
            "description": "The prompt to use for generating the image. Be as descriptive as possible for best results.",
            "default": "masterpiece, best quality, highres"
          },
          "resemblance": {
            "minimum": 0,
            "maximum": 1,
            "type": "number",
            "title": "Resemblance",
            "description": "\n            The resemblance of the upscaled image to the original image. The higher the resemblance, the more the model will try to keep the original image.\n            Refers to the strength of the ControlNet.\n        ",
            "default": 0.6
          },
          "creativity": {
            "minimum": 0,
            "maximum": 1,
            "type": "number",
            "title": "Creativity",
            "description": "\n            The creativity of the model. The higher the creativity, the more the model will deviate from the prompt.\n            Refers to the denoise strength of the sampling.\n        ",
            "default": 0.35
          },
          "image_url": {
            "examples": [
              "https://storage.googleapis.com/falserverless/gallery/NOCA_Mick-Thompson.resized.resized.jpg"
            ],
            "title": "Image Url",
            "type": "string",
            "description": "The URL of the image to upscale."
          },
          "upscale_factor": {
            "minimum": 1,
            "maximum": 4,
            "type": "number",
            "title": "Upscale Factor",
            "description": "The upscale factor",
            "default": 2
          },
          "guidance_scale": {
            "minimum": 0,
            "maximum": 20,
            "type": "number",
            "title": "Guidance scale (CFG)",
            "description": "\n            The CFG (Classifier Free Guidance) scale is a measure of how close you want\n            the model to stick to your prompt when looking for a related image to show you.\n        ",
            "default": 4
          },
          "num_inference_steps": {
            "minimum": 4,
            "maximum": 50,
            "type": "integer",
            "title": "Num Inference Steps",
            "description": "The number of inference steps to perform.",
            "default": 18
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seed",
            "description": "\n            The same seed and the same prompt given to the same version of Stable Diffusion\n            will output the same image every time.\n        "
          },
          "negative_prompt": {
            "examples": [
              "(worst quality, low quality, normal quality:2)"
            ],
            "title": "Negative Prompt",
            "type": "string",
            "description": "The negative prompt to use. Use it to address details that you don't want in the image.",
            "default": "(worst quality, low quality, normal quality:2)"
          },
          "enable_safety_checker": {
            "title": "Enable Safety Checker",
            "type": "boolean",
            "description": "If set to false, the safety checker will be disabled.",
            "default": true
          }
        },
        "x-fal-order-properties": [
          "image_url",
          "prompt",
          "upscale_factor",
          "negative_prompt",
          "creativity",
          "resemblance",
          "guidance_scale",
          "num_inference_steps",
          "seed",
          "enable_safety_checker"
        ],
        "required": [
          "image_url"
        ]
      },
      "ClarityUpscalerOutput": {
        "title": "Output",
        "type": "object",
        "properties": {
          "image": {
            "description": "The URL of the generated image.",
            "allOf": [
              {
                "$ref": "#/components/schemas/Image"
              }
            ]
          },
          "seed": {
            "title": "Seed",
            "type": "integer",
            "description": "The seed used to generate the image."
          },
          "timings": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Timings",
            "description": "The timings of the different steps in the workflow."
          }
        },
        "x-fal-order-properties": [
          "image",
          "seed",
          "timings"
        ],
        "required": [
          "image",
          "seed",
          "timings"
        ]
      },
      "Image": {
        "description": "Represents an image file.",
        "type": "object",
        "x-fal-order-properties": [
          "url",
          "content_type",
          "file_name",
          "file_size",
          "width",
          "height"
        ],
        "title": "Image",
        "properties": {
          "file_size": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Size",
            "description": "The size of the file in bytes.",
            "examples": [
              4404019
            ]
          },
          "height": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Height",
            "description": "The height of the image in pixels.",
            "examples": [
              1024
            ]
          },
          "file_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Name",
            "description": "The name of the file. It will be auto-generated if not provided.",
            "examples": [
              "z9RV14K95DvU.png"
            ]
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type",
            "description": "The mime type of the file.",
            "examples": [
              "image/png"
            ]
          },
          "url": {
            "title": "Url",
            "type": "string",
            "description": "The URL where the file can be downloaded from."
          },
          "width": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Width",
            "description": "The width of the image in pixels.",
            "examples": [
              1024
            ]
          }
        },
        "required": [
          "url"
        ]
      }
    }
  },
  "paths": {
    "/fal-ai/clarity-upscaler/requests/{request_id}/status": {
      "get": {
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Request ID"
            }
          },
          {
            "name": "logs",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "description": "Whether to include logs (`1`) in the response or not (`0`)."
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The request status.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QueueStatus"
                }
              }
            }
          }
        }
      }
    },
    "/fal-ai/clarity-upscaler/requests/{request_id}/cancel": {
      "put": {
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Request ID"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The request was cancelled.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Whether the request was cancelled successfully."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/fal-ai/clarity-upscaler": {
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClarityUpscalerInput"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The request status.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QueueStatus"
                }
              }
            }
          }
        }
      }
    },
    "/fal-ai/clarity-upscaler/requests/{request_id}": {
      "get": {
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Request ID"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Result of the request.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClarityUpscalerOutput"
                }
              }
            }
          }
        }
      }
    }
  },
  "servers": [
    {
      "url": "https://queue.fal.run"
    }
  ],
  "security": [
    {
      "apiKeyAuth": []
    }
  ]
}